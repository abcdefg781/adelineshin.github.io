---
title: "Interactive Plots"
output: 
  flexdashboard::flex_dashboard:
    orientation: columns
    vertical_layout: fill
---

```{r setup, include=FALSE}
library(flexdashboard)
library(tidyverse)
library(p8105.datasets)
library(plotly)
```


```{r data_tidying, include = FALSE}
data("instacart")
instacart_data = instacart %>% 
  janitor::clean_names()
```

-----------------------------------------------------------------------

### Chart A

```{r}
aisle_data = 
  instacart_data %>% 
  count(aisle_id)

aisle_ggplot =
  aisle_data %>% 
    subset(n > 10000) %>% 
    ggplot(aes(x = aisle_id, y = n)) +
    geom_col() +
    labs(
      title = "Number of Items Ordered in Each Aisle",
      x = "Aisle Number",
      y = "Number of Items Ordered",
      caption = "Only aisles with over 10,000 items shown"
    )

ggplotly(aisle_ggplot)
```

-----------------------------------------------------------------------

### Chart B

```{r}
order_data = as.data.frame(table(pull(instacart_data, order_hour_of_day))) %>% 
  select("hour" = "Var1", "freq" = "Freq")

order_ggplot = 
  order_data %>% 
    ggplot(aes(x = hour, y = freq)) +
    geom_point() +
    labs(
      title = "Number of Orders Placed per Hour of Day",
      x = "Hour of Day",
      y = "Number of Orders"
    )

ggplotly(order_ggplot)
```

### Chart C

```{r}
aisle_dept_data =
  instacart_data %>% 
    ggplot(aes(x = aisle_id, y = department_id)) +
    geom_point()

ggplotly(aisle_dept_data)
```

